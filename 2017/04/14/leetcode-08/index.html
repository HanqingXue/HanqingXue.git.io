<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="author" content="Hanqing Xue"><link rel="icon" href="/hexo.png"><title>LonelyWind</title><meta name="description"><link rel="alternate" type="application/rss+xml" title="LonelyWind" href="/atom.xml"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/highlight.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">
</head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#main-navbar" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">LonelyWind</a></div><div id="main-navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/archives">Archive</a></li><li><a href="https://github.com/twoyao/beautiful-hexo">Github</a></li><li><a href="/about/">About</a></li></ul></div><div class="avatar-container"><div class="avatar-img-border"><a href="/"><img src="/hexo.png" class="avatar-img"></a></div></div></div></nav><header class="header-section"><div class="intro-header no-img"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><h1>String to Integer (atoi)</h1><p class="post-meta">Posted on Apr 14 2017 · <a href="/tags/Leetcode/" class="tag post-meta">Leetcode</a></p></div></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role="main" class="blog-post"><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Implement atoi to convert a string to an integer.</p>
<h2 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h2><p>Carefully consider all possible input cases. If you want a challenge, please do not see below and ask yourself what are the possible input cases.</p>
<h2 id="Acceptance"><a href="#Acceptance" class="headerlink" title="Acceptance"></a>Acceptance</h2><p><strong>13.6%</strong></p>
<h2 id="Difficulty"><a href="#Difficulty" class="headerlink" title="Difficulty"></a>Difficulty</h2><p>Middle</p>
<h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>The key issue of this problem is its input which is various. We need to take count of some cases whcih can be categorized as blow</p>
<ol>
<li><p>Empty string. If the input is empty, we need return 0;</p>
</li>
<li><p>Sign. There are about three cases: ‘+’, ‘-‘, ‘digit’. ‘+’ and ‘digit’  means that input is a positive number. And ‘-‘ means it is negative.<br>when we receive a input, we should identify sign:  positive 1 and negative -1.</p>
</li>
<li><p>Value. It is easy to get acsill code of a digit. In python language, <strong>ord()</strong> is designed for this task. We can use diff of ‘digit’ - ‘0’ to get the value of string.<br>Calculating step by step,  we can get real value of input. And as output, we need add sign for this value.</p>
</li>
<li><p>Overflow. we need to ensure our output is in range of ‘long’ type in C++. In python, ‘long’ type isn’t existing so we try to calculat this range. The interval of long type is -2147483648 ~ 2147483647. Let us ensure our ouput is in this interval.</p>
</li>
<li><p>Illegal input. If some illegal symbol in input, we return 0. However. For case ‘+-123’ , it is illegal as well. For some alpha mixed in string like ‘1234b11’, we should only consider ‘1234’</p>
</li>
</ol>
<h2 id="Code-python2-7"><a href="#Code-python2-7" class="headerlink" title="Code(python2.7)"></a>Code(python2.7)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding = utf-8</span></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">import</span> math</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myAtoi</span><span class="params">(self, s=str)</span>:</span></div><div class="line">        s = s.strip()</div><div class="line">        op = <span class="number">1</span></div><div class="line">        <span class="keyword">if</span> s == <span class="string">'0'</span> <span class="keyword">or</span> s == <span class="string">''</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> (<span class="string">'+'</span> <span class="keyword">in</span> s) <span class="keyword">and</span> (<span class="string">'-'</span> <span class="keyword">in</span> s):</div><div class="line">             <span class="keyword">return</span> <span class="number">0</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> s[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">or</span> s[<span class="number">0</span>] == <span class="string">'+'</span>:</div><div class="line">            op = <span class="number">1</span></div><div class="line">            s = s[<span class="number">1</span>: ]</div><div class="line">        <span class="keyword">elif</span> s[<span class="number">0</span>] == <span class="string">'-'</span>:</div><div class="line">            op = <span class="number">-1</span></div><div class="line">            s = s[<span class="number">1</span>: ]</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">pass</span></div><div class="line"></div><div class="line">        value = <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(s)):</div><div class="line">            <span class="keyword">if</span> s[i].isdigit():</div><div class="line">                index = ord(s[i]) - ord(<span class="string">'0'</span>)</div><div class="line">                value = value*<span class="number">10</span> + index</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                <span class="keyword">break</span></div><div class="line">        resValue = op * value</div><div class="line"></div><div class="line">        maxint = <span class="number">2147483647</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> resValue &gt; maxint: <span class="keyword">return</span> maxint</div><div class="line">        <span class="keyword">if</span> resValue &lt; -maxint: <span class="keyword">return</span> -(maxint+<span class="number">1</span>)</div><div class="line"></div><div class="line">        <span class="keyword">return</span> resValue</div></pre></td></tr></table></figure>
<h2 id="Time-complexity"><a href="#Time-complexity" class="headerlink" title="Time complexity:"></a>Time complexity:</h2><p><strong>O(n)</strong></p>
</article><ul class="pager blog-pager"><li class="next"><a href="/2017/03/23/Tensorflow/" data-toggle="tooltip" data-placement="top" title="Installing TensorFlow on macOS">Next Post →</a></li></ul><div class="disqus-comments"><div class="comments"><div id="disqus_thread"></div></div></div><script>var url_parts = window.location.href.split("?");
var disqus_url = url_parts[0];
(function () {
    console.log("enter disqus");
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = "//twoyao.disqus.com/embed.js";
    (document.head || d.body ).appendChild(dsq);
})();</script></div></div></div><footer><div class="container beautiful-jekyll-footer"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href="https://github.com/HanqingXue" title="GitHub"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-github"></i></span></a></li><li><a href="/atom.xml" title="RSS"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-rss"></i></span></a></li><li><a href="" title="Twitter"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-twitter"></i></span></a></li><li><a href="" title="Email me"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-envelope"></i></span></a></li></ul><p class="copyright text-muted">© Hanqing Xue • 2017 • <a href="mailto:undefined"></a>
</p><p class="theme-by text-muted">Theme by
<a href="https://github.com/twoyao/beautiful-hexo">beautiful-hexo</a></p></div></div></div></footer><script src="/js/jquery-1.11.2.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/main.js"></script><script src="/js/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>